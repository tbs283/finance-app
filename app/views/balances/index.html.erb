  　<% if @balance_new.errors.any? %>
      <%= @balance_new.errors.count %>件のエラーが発生しました
      <% @balance_new.errors.full_messages.each do |message| %>
        <%= message %>
      <% end %>
    <% end %>
<div class="container">
  <div class="row">
    <div class='col-lg-1'></div>
    <div class='col-lg-4 mt-3'>
      <%= form_with model:@balance_new, url:balances_path, local: true do |f| %>
        <table>
          <thead>
            <tr>
              <h5>収入を登録</h5>
              <%= f.hidden_field :balance, :value => 0 %>
            </tr>
          </thead>
          <tr>
            <th><%= f.label :period, "日付" %></th>
            <td><%= f.date_field :period %></td>
          </tr>
          <tbody>
            <tr>
              <th><%= f.label :amount, "金額" %></th>
              <td><%= f.number_field :amount %>円</td>
            </tr>
          </tbody>
          <tr>
            <th><%= f.label :income_genre_id, "項目" %></th>
            <td></td>
          </tr>
          <tbody>
            <tr>
              <th><%= f.label :description, "説明" %></th>
              <td><%= f.text_field :description %></td>
            </tr>
          </tbody>
          <tbody>
            <tr>
              <th></th>
              <td><%= f.submit '新規登録' %></td>
            </tr>
          </tbody>
        </table>
      <% end %>
    </div>
    <div class='col-lg-2'></div>
    <div class='col-lg-4 mt-3'>
      <%= form_with model:@balance_new, url:balances_path, local: true do |f| %>
        <table>
          <thead>
            <tr>
              <h5>支出を登録</h5>
              <%= f.hidden_field :balance, :value => 1 %>
            </tr>
          </thead>
          <tr>
            <th><%= f.label :period, "日付" %></th>
            <td><%= f.date_field :period %></td>
          </tr>
          <tbody>
            <tr>
              <th><%= f.label :amount, "金額" %></th>
              <td><%= f.number_field :amount %>円</td>
            </tr>
          </tbody>
          <tr>
            <th><%= f.label :expense_genre_id, "項目" %></th>
            <td></td>
          </tr>
          <tbody>
            <tr>
              <th><%= f.label :description, "説明" %></th>
              <td><%= f.text_field :description %></td>
            </tr>
          </tbody>
          <tbody>
            <tr>
              <th></th>
              <td><%= f.submit '新規登録' %></td>
            </tr>
          </tbody>
        </table>
      <% end %>
    </div>
    <div class='col-lg-1'></div>
  </div>
  
  <div class="row">
    <div class="col-lg-2"></div>
    <div class="col-lg-8">
      <h2 class="text-center mt-5 mb-5">現在の貯金額 <%= @saving.to_s(:delimited, delimiter: ',') %>円</h2>
      <h2 class="text-center mt-5 mb-5">この月の収支 <%= @balance.to_s(:delimited, delimiter: ',') %>円</h2>
    </div>
    <div class="col-lg-2"></div>
  </div>
  
  <div class="row">
    <div class="col-lg-1"></div>
    <div class="col-lg-5">
      <%= link_to "前の月",balances_path(month:@month.prev_month) %>
    </div>
    <div class="col-lg-5">
      <%= link_to "次の月",balances_path(month:@month.next_month) %>
    </div>
    <div class="col-lg-1"></div>
  </div>
  
  <div class="row">
    <div class="col-lg-1"></div>
    <div class="col-lg-5 mt-3 mb-3">
      <h5 class="text-center">収入</h5>
      <table class="text-center table tbody-bordered table-hover table-sm">
        <thead class="thead-dark">
          <tr>
            <th>日付</th>
            <th>項目</th>
            <th>金額</th>
            <th></th>
            <th></th>
          </tr>
        </thead>
        <tbody>
          <% @incomes.each do |income| %>
            <tr>
              <td><%= income.period %></td>
              <td></td>
              <td><%= income.amount.to_s(:delimited, delimiter: ',') %>円</td>
              <td><%= link_to "詳細", balance_path(income), class:"btn btn-primary btn-sm" %></td>
              <td><%= link_to "削除", balance_path(income), method: :delete, class:"btn btn-primary btn-sm" %></td>
            </tr>
          <% end %>
        </tbody>
        <tbody>
          <tr>
            <th></th>
            <th>収入合計</th>
            <td><%= @income_sum.to_s(:delimited, delimiter: ',') %>円</td>
            <td></td>
          </tr>
        </tbody>
      </table>
    </div>
    <div class="col-lg-5 mt-3 mb-3">
      <h5 class="text-center">支出</h5>
      <table class="text-center table tbody-bordered table-hover table-sm">
        <thead class="thead-dark">
          <tr>
            <th>日付</th>
            <th>項目</th>
            <th>金額</th>
            <th></th>
            <th></th>
          </tr>
        </thead>
        <tbody>
          <% @expenses.each do |expense| %>
            <tr>
              <td><%= expense.period %></td>
              <td></td>
              <td><%= expense.amount.to_s(:delimited, delimiter: ',') %>円</td>
              <td><%= link_to "詳細", balance_path(expense), class:"btn btn-primary btn-sm" %></td>
              <td><%= link_to "削除", balance_path(expense), method: :delete, class:"btn btn-primary btn-sm" %></td>
            </tr>
          <% end %> 
        </tbody>
        <tbody>
          <tr>
            <th></th>
            <th>支出合計</th>
            <td><%= @expense_sum.to_s(:delimited, delimiter: ',') %>円</td>
            <td></td>
          </tr>
        </tbody>
      </table>
    </div>
    <div class="col-lg-1"></div>
  </div>
</div>